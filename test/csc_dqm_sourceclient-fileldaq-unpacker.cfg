process DQM = {
    
    untracked PSet maxEvents = { untracked int32 input = 20000 }


    es_source cscConditions = PoolDBESSource {
      VPSet toGet = {
        { string record = "CSCDBGainsRcd"
          string tag = "CSCDBGains_ideal" },
        { string record = "CSCDBCrosstalkRcd"
          string tag = "CSCDBCrosstalk_ideal" },
        { string record = "CSCDBNoiseMatrixRcd"
          string tag = "CSCDBNoiseMatrix_ideal" },
        { string record = "CSCDBPedestalsRcd"
          string tag = "CSCDBPedestals_ideal" },
        { string record = "CSCChamberIndexRcd"
          string tag = "CSCChamberIndex" },
        { string record = "CSCChamberMapRcd"
          string tag = "CSCChamberMap" },
        { string record = "CSCCrateMapRcd"
          string tag = "CSCCrateMap" },
        { string record = "CSCDDUMapRcd"
          string tag = "CSCDDUMap" }
      }
    
      string timetype = "runnumber"
      string connect = "frontier://FrontierDev/CMS_COND_CSC"

      PSet DBParameters = {
        untracked uint32 authenticationMethod = 1
      }

    }

    #source = NewEventStreamFileReader {
    #  untracked vstring fileNames = {
    #    "file:/tmp/valdo/GlobalMar08.00038426.0001.A.storageManager.0.0000.dat"
    #  }
    #}

    source = DaqSource {
      untracked string readerPluginName = "CSCFileReader"
      untracked PSet readerPset = {
        untracked vstring RUI00 = {
          '/tmp/valdo/csc_080421_171757.raw'
        }
        untracked vstring FED750 = {'RUI00'}
        untracked int32 firstEvent = 0
      }
    }

    module cscunpacker = CSCDCCUnpacker {
      untracked bool runDQM = true
      untracked bool Debug =  false
      untracked bool PrintEventNumber = false
      FileInPath theMappingFile = "CondFormats/CSCObjects/data/csc_slice_test_map.txt"
      untracked bool UseExaminer = true
      untracked uint32 ErrorMask = 0xDFCFEFFF
      untracked uint32 ExaminerMask = 0x5FB3BF6
      untracked bool UnpackStatusDigis = true
      untracked bool isMTCCData = false
      InputTag InputObjects = source
    }

    service = CSCMonitor{
      untracked string BookingFile = "file:/afs/cern.ch/user/v/valdo/CMSSW_2_0_1/src/DQM/CSCMonitorModule/test/emuDQMBooking.xml"
      untracked bool monitorVerbosity=false
      untracked bool   CSCDQMSaveRootFile = false
      untracked int32  EventsInterval = 10000 
      untracked string RootFileName ="CSCMonitorDigi.root"
      FileInPath theMappingFile = "CondFormats/CSCObjects/data/csc_slice_test_map.txt"
    }

    include "DQM/CSCMonitorModule/test/csc_dqm_sourceclient.cfi"

    include "DQMServices/Components/test/dqm_onlineEnv.cfi"

    replace dqmSaver.dirName       = "."
    replace dqmEnv.subSystemFolder = "CSC"
    replace dqmSaver.workflow = "/d/q/m"
       
    path p = { cscunpacker & dqmEnv & dqmSaver }
    
} 
